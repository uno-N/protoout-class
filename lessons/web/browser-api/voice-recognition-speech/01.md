# ボイスコントロール - Web Speech API

近年のスマートスピーカーやスマートアシスタントに代表される、音声の認識・発話を行うことができるWeb標準の技術です。これらが使えるようになると以下のメリットがあります。

- 音声認識
  - ボイスコマンドを使った操作ができる
  - テキストへの文字起こし・音声データではなくテキストデータとしての保存（→軽量なデータにできる）
  - リアルタイム翻訳
- 音声発話
  - ボイスフィードバック（任意の情報を好きなだけ喋らせられる）
  - 視覚障害者向けサポート
  - 朗読コンテンツの作成

## ＜受講ポイント＞
  
- Webにおける音声系操作は標準的に使うことができることを知りましょう。
- ボイスコントロール、あるいは読み上げの機能を使うことで可能となるアイデアもあります。
- 自身が想定している制作物とは関係がなくても、支援的な機能として使えるということを覚えておきましょう。

## 1. まずは試してみよう

> こちらのAPIはiPhoneを使っている方は、`Safari`を利用してください。  
> iOSのChromeでは動作しないことがわかっています。Androidの方はChromeでOKです。

音声認識と発話ができるCodePenサンプルです。  
[音声認識 & 発話](https://codepen.io/watanabe-tsubasa/pen/rNQOYeG?editors=1011)

![gyazo.png](https://i.gyazo.com/5bc716bf9a20d71961974549f4585e16.png)

1. `スタート` ボタンをクリックして何かしゃべり、認識されて文字として反映されることを確認する。
2. 発話させるの下の入力欄に何か文字列を入れ、 `しゃべって！` ボタンクリックで発話されることを確認する。

## 2. (演習)ボイスコマンドをつくってみよう

音声認識側を少し触ってみましょう。  
認識されたときに実行される部分を簡単に解説しますので、特定の言葉を認識したときに何かしらのアクションが実施されるようにJSを書き換えてみましょう。

アクション例:

- 「OK、グーグル」→ `alert('いいえ、私はアレクサです');`
- 「ホームページをひらいて」→ `window.location.href = 'https://protoout.studio/';`

> `OK Google`や`Ok Google`など認識結果の表記が揺れることがあります。  
> 特定の言葉を認識するif文の条件は、認識結果を確認して設定しましょう。

## 3. 参考

[Web Speech APIを使う \- Web API \| MDN](https://developer.mozilla.org/ja/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API)

> 先進的な機能ではあるものの「Experimental」であり、利用可能なブラウザが限られていることに気をつけてください。

---

## 目次へ

[目次](https://github.com/protoout/po-common/tree/main/lessons)に戻ります
