# React についてザックリ理解する

![image](https://i.gyazo.com/f31ff971e297dbba19fcb90466495401.png)

まずは話を聞くタイムです。

## 1. Reactについて

　React（React.jsまたはReactJSとも呼ばれる）は、Facebookが開発し、コミュニティによって維持されているオープンソースのJavaScriptライブラリであり、ユーザーインターフェイスの構築に使用されます（By ChatGPT）。つまり、**webアプリケーションの見た目を作るためのライブラリ**です。一昔前はJSXと呼ばれる書き方やClassをベースにした書き方が独特であり、習得難易度が高く、大規模アプリケーション向きと言われていました。しかし、近年のさまざまな改定により非常に書きやすく、なおかつ文献も豊富である（つまりChatGPTに聞くと答えが返ってきやすい）ため習得しやすいライブラリとなってきました。  

　また、Reactのような構文の書き方は`solid.js`や`qwik`といった他のJSライブラリやフレームワークに加えて、`Python`の`Reactpy`や`Rust`の`Dioxus`でも採用されています。フロントエンド開発の新たな標準的な記法になりつつあり、Reactでの学びを共有しやすくなっているため学習がムダになりにくくなっていることも、今Reactを学ぶ有効性を加速させています。

## 2. Reactを学ぶべき人と本講座の対象

本講座は以下の方を対象としています

- プロトアウトスタジオ本科カリキュラム終了時程度の実装力がある（ChatGPTによる補助こみでも可能）
  - `GitHub Codespaces`や`Visual Studio Code`などでの開発環境の立ち上げ方を理解している
  - `npm`を用いてライブラリなどをインストールして、`Node.js`上で実行できる
  - LINE BotをJavaScriptやGASで実装できる
  - HTML, CSS, JavaScriptからなるwebの概念をなんとなくでも理解している
  - Glideなどのノーコードツールで、webアプリケーションを実装したことがある
- アプリケーションの幅に限界を感じている
  - ハッカソンに出場するといつもLINE Bot作っている
  - Glideの限界を感じた（自作のアプリで登録数などの限界がきてしまった等）

一方で、HTMLの基礎やCSSによるスタイリングはすっ飛ばして、最低限の実装基礎とChakraUIでのスタイリングをベースに話します。ですので、これまでwebアプリケーションを開発してきており、改めてReactを勉強してみたいという方については、一般的なReactのチュートリアルの方がより深く学べるかと思います。

### 2-1. React の特徴

Webアプリケーションと一言でいっても、Reactが向いている場合と向いていない場合があります

#### 向いている

- 動的なコンテンツが多いページ
- 再利用可能なコンポーネントが求められるページ
- 複雑なユーザーインターフェイスやインタラクション
- プログレッシブウェブアプリ (PWA)

　ページ間の遷移がなく、データをフェッチしてUIを動的に更新するようなアプリケーション。Reactはユーザーインタラクションに応じて部分的にページを更新するのに適しています。Reactは動的で複雑なUIを持つページやアプリケーション、そして再利用や状態管理が求められる多くのシナリオにおいて非常に適しています。

つまり、次のようなアプリケーションです

<https://symplepokedex.netlify.app/>

- PokeAPIからデータを取得して、それを特定のフォーマットのカード上のコンポーネントに当てはめて表示している
- ボタンやポケモンの画像を押すことで、ページを遷移することなく詳細データを表示できる
- スマホのデスクトップにインストールすることで、ネイティブアプリのように動作する

他にもtwitterのように、データベースからデータをフェッチして、つぶやきのような特定のフォーマットを持つコンポーネントで繰り返し表示するような処理は、まさにReactが得意なところです

#### 向いていない

- 静的なコンテンツの多いサイト
- SEOが重要なサイト
- すでにHTML, CSS, JavaScriptが記述されているページの改修

ブログやコーポレートサイトのように、主に静的なコンテンツを提供するサイトでは、Reactの動的性は必ずしも必要ではありません。シングルページアプリケーションは、検索エンジンのクローラーが内容を正確に把握するのが難しい場合があります。しかし、サーバーサイドレンダリング（例：Next.jsやGatsbyのようなフレームワークを使用）を行うことで、この問題は緩和されます。また、HTML, CSS, JavaScriptのファイルをそれぞれ記述するような書き方とはまったく異なる実装方法であるため、すでに存在するページの改修にも向いていません。その場合は`Vue.js`などのフレームワークが適切とのことです。

つまり、次のようなランディングページはReactで実装するのに向いていません（できないわけではありませんが機能過剰かつ余計な手間がかかります）

<https://moicen-forest.studio.site/>

### 2-2. 本講座の注意点

本講座では入門編ということを強く意識しており、現在のフロントエンド開発では非推奨とされる手法を実行しております。具体的には

#### `create-react-app`でのReact開発環境構築

- **（2024.1.21追記）現在、create-react-appはメンテナンスすらされていません。非推奨ではなく、本当に使わないでください。**
  - 代わりに小規模なReactアプリケーションであれば`vite`を使う流れになっています
  - `npx create vite`で実行し、`select a framework`で`react`、`select a variant`で`react`（typescriptに挑戦するのであれば`react-ts`）を選んで開始してください
- 現在は`Next.js`, `Remix`, `Gatsby`, `Expo`のようなフレームワークと合わせる方法を公式が推奨しています
- フレームワークを使わない場合でも`Vite`, `Parcel`のようなバンドルツールを使用するような記載があり`create-react-app`は公式の記述からも削除されています
- 今回は入門編なので特別なインストール不要ですぐ始められる（立ち上げるのは遅いですが）create-react-appで開発を始めています
- [公式サイトはこちら](https://react.dev/learn/start-a-new-react-project)

#### `useEffect`でのAPIからのデータ取得

- React18への改定時にuseEffectの仕様が変わり、これまでAPIからのデータ取得に使われていたやり方が非推奨となりました
- `React Query`や`React Router`を使用する方法が公式にも記載されております
- [公式サイトはこちら](https://react.dev/reference/react/useEffect#fetching-data-with-effects)

#### データ取得中の待機表示

- React18への改定時に並行レンダリングとsuspenseという機能が実装され、データ取得中の待機表示はこの機能を利用することが推奨されました
- 本講座中では、旧来通りのstateの値によって三項演算子で表示を切り替える方法で実装しています
- [公式サイトはこちら](https://react.dev/reference/react/Suspense)

#### JavaScript(JS)でのReact開発

- これは賛否あるかと思いますが、ある程度しっかり動くReactのアプリケーションを考える場合、`TypeScript(TS)`での開発が望ましいです
- コンポーネント同士でpropsを介してデータをやり取りするReactにとって、propsを明確に型定義できるReactは抜群に相性がよく、バグを防ぐだけでなくサジェストやインテリセンスが強烈に実行されるようになるため、最初の型定義さえ済んでしまえば開発が非常にスムーズになります
- 本講座はあくまでReactの入門であり、TSの型の話を始めてしまうと収集がつかなくなってしまうためJSで記述していますが、次のステップアップとしてはTSでの記述を推奨します。

以上、入門編としては問題ない内容ではありますが、フロントエンドの移り変わりの速さを表現した例でしたので紹介しています。**はじめてここを読む方は何のことかわからないと思いますが、ひととおり受講を終えた上で読んでいただくとより理解が深まるかと思います**。

### 【参考】身の回りのReact

- Facebook: ReactはFacebookによって開発されたもので、Facebookのウェブ版はもちろんReactを用いて大部分が構築されています。
- Instagram: FacebookがInstagramを買収した後、Instagramのウェブ版もReactで再構築されました。
- twitter（X): 新しいウェブインターフェイスはReactを使用して開発されています。
- Glide: GlideはReactベースで作られています。ですのでGlideでできることは基本的にReactを使えば実装できます。
- [Sovinnon](https://protopedia.net/prototype/4184): 大規模開発だけでなく、PWAとして実装しやすいところもReactの利点です。

---

このページの内容は以上です。  
**[目次](./readme.md)** に戻り、全体構成を確認してから講師の指示にしたがって進めましょう。
